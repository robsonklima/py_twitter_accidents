{% extends "base.html" %}

{% block content %}

<div class="row principal">
    <div class="col-lg-12">
        <div class="bs-component">
            <div id="map"></div>
            <style>
                #map {
                    height: 480px !important;
                    width: 100% !important;
                }
            </style>

            <script>
                function initMap() {
                    var marker = {lat: -30.099885, lng: -51.172347};
                    var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 12,
                    center: marker
                    });

                    {% for accident in accidents %}
                        marker = {lat: {{ accident.latitude }}, lng: {{ accident.longitude }} };

                        var marker = new google.maps.Marker({
                            position: marker,
                            map: map 
                        });
                    {% endfor %}
                }
            </script>

            <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCdX8k9LPBt6c3gNKOMCWlgyYmrV5AMkf8&callback=initMap">
            </script>

        </div>
    </div>
</div>

{% endblock %}